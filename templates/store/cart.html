{% extends 'layouts/base.html' %} 

{% load django_bootstrap5 grid_tags %}

{% block title %}Carrinho{% endblock %}


{% block content %}
<!-- Cart Section -->

  {% container %}
    
    {% if pizzas %}
      {% row 'row-cols-1 row-cols-md-2' %}
        {% col 'col-md-8' %}


          <h4 class="mb-3">Detalhes do Carrinho</h4>
          <form class="needs-validation" novalidate>
            <div class="table-responsive">
              <table class='table table-sm table-md table-lg table-xl'> 
                <thead>
                  <tr>
                    <th>Descrição</th>
                    <th>Qtd</th>
                    <th>Valor</th>
                  </tr> 
                </thead>  
                <tbody>
                  {% for item in cart_items %}
                    <tr>
                      <td>{{ item.pizza.name }}</td> 
                      <td>{{ item.quantity}}</td> 
                      <td>{{ item.pizza.price }}</td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table> 
              <a class="btn btn-primary" href="{% url 'store:confirm_cart' %}">Finalizar</a>
            </div>
          </form>
        {% endcol %}

        {% col 'col-md-4' %}
          <h4 class="d-flex justify-content-between align-items-center mb-3">
            <span class="text-primary">Seu Carrinho</span>
            <span class="badge bg-primary rounded-pill">3</span>
          </h4>
          <ul class="list-group mb-3">
            <li class="list-group-item d-flex justify-content-between lh-sm">
              <div>
                <h6 class="my-0">Product name</h6>
                <small class="text-body-secondary">Brief description</small>
              </div>
              <span class="text-body-secondary">$12</span>
            </li>
            <li class="list-group-item d-flex justify-content-between lh-sm">
              <div>
                <h6 class="my-0">Second product</h6>
                <small class="text-body-secondary">Brief description</small>
              </div>
              <span class="text-body-secondary">$8</span>
            </li>
            <li class="list-group-item d-flex justify-content-between lh-sm">
              <div>
                <h6 class="my-0">Third item</h6>
                <small class="text-body-secondary">Brief description</small>
              </div>
              <span class="text-body-secondary">$5</span>
            </li>

            <li class="list-group-item d-flex justify-content-between bg-body-tertiary">
              <div class="text-success">
                <h6 class="my-0">Promo code</h6>
                <small>EXAMPLECODE</small>
              </div>
              <span class="text-success">−$5</span>
            </li>

            <li class="list-group-item d-flex justify-content-between">
              <span>Total (USD)</span>
              <strong>$20</strong>
            </li>

            <form class="p-2">
              <div class="input-group">
                <button class="w-50 btn btn-primary btn-lg" type="submit">Continuar</button>
              </div>
            </form>
          </ul>
        {% endcol %}

      {% endrow %}

    {% else %}
      {% row 'd-flex justify-content-center' %}
        {% col 'col-md-8 my-2' %}

          <i class="fa-solid fa-cart-arrow-down"></i>
          <h2>Seu carrinho está vazio!</h2>
          <small>Você ainda não possui itens no seu carrinho.</small>
          <a class="btn btn-primary" href="{% url 'store:index' %}">Ver produtos</a>

        {% endcol %}
      {% endrow %}
    {% endif %}




  {% endcontainer %}

{% endblock content %}